data_tmp <- get(centro)
View(Centro_XYZ)
source("2. Excel/2. eso.r")
source("2. Excel/2. eso.R")
source("2. Excel/2. eso e.R")
source("2. Excel/2. eso e.R")
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Año = c(20, 50, 100, 200, 500, 1500),
names(Centro_ABC) <- c(
"Año", "Probabilidad",
Centro_XYZ <- data.frame(
Año = c(20, 50, 100, 200, 500, 1500),
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Año = c(20, 50, 100, 200, 500, 1500),
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(20, 50, 100, 200, 500, 1500),
maxima = c(20, 50, 100, 200, 500, 1500),
Area2 = c(20, 50, 100, 200, 500, 1500),
promedio2 = c(20, 50, 100, 200, 500, 1500),
maxima2 = c(20, 50, 100, 200, 500, 1500)
)
names(Centro_ABC) <- c(
"Año", "Probabilidad",
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(20, 50, 100, 200, 500, 1500),
maxima = c(20, 50, 100, 200, 500, 1500),
Area2 = c(20, 50, 100, 200, 500, 1500),
promedio2 = c(20, 50, 100, 200, 500, 1500),
maxima2 = c(20, 50, 100, 200, 500, 1500)
)
names(Centro_ABC) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_XYZ <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(30, 530, 1300, 2300, 5300, 13500),
maxima = c(230, 530, 1300, 2300, 5300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_XYZ) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_SDF <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(340, 4530, 4100, 4300, 4300, 43500),
maxima = c(4230, 4530, 4130, 4300, 4300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_SDF) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
source("2. Excel/2. eso e.R")
base_nombres <- ls()
cliente <- "Cliente ABC"
fecha <- format(Sys.Date(), "%B %Y")
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(20, 50, 100, 200, 500, 1500),
maxima = c(20, 50, 100, 200, 500, 1500),
Area2 = c(20, 50, 100, 200, 500, 1500),
promedio2 = c(20, 50, 100, 200, 500, 1500),
maxima2 = c(20, 50, 100, 200, 500, 1500)
)
names(Centro_ABC) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_XYZ <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(30, 530, 1300, 2300, 5300, 13500),
maxima = c(230, 530, 1300, 2300, 5300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_XYZ) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_SDF <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(340, 4530, 4100, 4300, 4300, 43500),
maxima = c(4230, 4530, 4130, 4300, 4300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_SDF) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
source("2. Excel/2. eso e.R")
base_nombres <- ls()
cliente <- "Cliente ABC"
fecha <- format(Sys.Date(), "%B %Y")
rm(list = ls())
cat("\014")
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(20, 50, 100, 200, 500, 1500),
maxima = c(20, 50, 100, 200, 500, 1500),
Area2 = c(20, 50, 100, 200, 500, 1500),
promedio2 = c(20, 50, 100, 200, 500, 1500),
maxima2 = c(20, 50, 100, 200, 500, 1500)
)
names(Centro_ABC) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_XYZ <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(30, 530, 1300, 2300, 5300, 13500),
maxima = c(230, 530, 1300, 2300, 5300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_XYZ) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_SDF <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(340, 4530, 4100, 4300, 4300, 43500),
maxima = c(4230, 4530, 4130, 4300, 4300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_SDF) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
source("2. Excel/2. eso e.R")
base_nombres <- ls()
cliente <- "Cliente ABC"
fecha <- format(Sys.Date(), "%B %Y")
list.files("1. Mapas\Centro ABC")
list.files("1. Mapas")
list.files("1. Mapas\Centro ABC")
list.files("1. Mapas?/Centro ABC")
list.files("1. Mapas/Centro ABC")
is.na(list.files("1. Mapas/Centro ABC"))
a <- list.files("1. Mapas/Centro ABC")
is.na(a)
is.na(list.files("1. Mapasw/Centro ABC"))
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(20, 50, 100, 200, 500, 1500),
maxima = c(20, 50, 100, 200, 500, 1500),
Area2 = c(20, 50, 100, 200, 500, 1500),
promedio2 = c(20, 50, 100, 200, 500, 1500),
maxima2 = c(20, 50, 100, 200, 500, 1500)
)
names(Centro_ABC) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_XYZ <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(30, 530, 1300, 2300, 5300, 13500),
maxima = c(230, 530, 1300, 2300, 5300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_XYZ) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_SDF <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(340, 4530, 4100, 4300, 4300, 43500),
maxima = c(4230, 4530, 4130, 4300, 4300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_SDF) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
source("2. Excel/2. eso e.R")
base_nombres <- ls()
cliente <- "Cliente ABC"
fecha <- format(Sys.Date(), "%B %Y")
fecha <- format(Sys.Date(), "%B %Y")
fecha <- paste0(toupper(substring(fecha, 1, 1)), substring(fecha, 2))
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(20, 50, 100, 200, 500, 1500),
maxima = c(20, 50, 100, 200, 500, 1500),
Area2 = c(20, 50, 100, 200, 500, 1500),
promedio2 = c(20, 50, 100, 200, 500, 1500),
maxima2 = c(20, 50, 100, 200, 500, 1500)
)
names(Centro_ABC) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_XYZ <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(30, 530, 1300, 2300, 5300, 13500),
maxima = c(230, 530, 1300, 2300, 5300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_XYZ) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_SDF <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(340, 4530, 4100, 4300, 4300, 43500),
maxima = c(4230, 4530, 4130, 4300, 4300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_SDF) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
source("2. Excel/2. eso e.R")
base_nombres <- ls()
cliente <- "Cliente ABC"
fecha <- format(Sys.Date(), "%B %Y")
fecha <- paste0(toupper(substring(fecha, 1, 1)), substring(fecha, 2))
# Rutas
ruta_maps_flood <- "1. Mapas"
ruta_maps_flood <- file.path(ruta_maps_flood, cliente)
ruta_maps_flood
ruta_maps_flood
ruta_maps_flood
source(here("2. Excel", "1. eso.R"))
# Cargar librerías necesarias
library(readxl)    # si usas read_excel
library(dplyr)     # si haces transformaciones
library(knitr)     # para usar kable
library(here)      # puede fallar el source en los .Rmd <- here()
source(here("2. Excel", "1. eso.R"))
# Cargar librerías necesarias
library(readxl)    # si usas read_excel
library(dplyr)     # si haces transformaciones
library(knitr)     # para usar kable
library(here)      # puede fallar el source en los .Rmd <- here()
source(here("2. Excel", "1. eso.R"))
library(here)
source(here("2. Excel", "2. eso.R"))
source(here("2. Excel", "2. eso e.R"))
# rm(list = ls())
# cat("\014")
library(readxl)
flood_location <- read_excel("2. Excel/Flood Input.xlsx")
source(here("2. Excel", "2. eso e.R"))
source(here("2. Excel", "2. eso e.R"))
rm(list = ls())
cat("\014")
library(readxl)
flood_location <- read_excel("2. Excel/Flood Input.xlsx")
source(here("2. Excel", "1. eso.R"))
source(here("2. Excel", "1. eso.R"))
source(here("2. Excel", "1. eso.R"))
rm(list = ls())
library(readxl)
library(tidyverse)
library(dplyr)
cat("\014")
Centro_ABC <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(20, 50, 100, 200, 500, 1500),
maxima = c(20, 50, 100, 200, 500, 1500),
Area2 = c(20, 50, 100, 200, 500, 1500),
promedio2 = c(20, 50, 100, 200, 500, 1500),
maxima2 = c(20, 50, 100, 200, 500, 1500)
)
names(Centro_ABC) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_XYZ <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(30, 530, 1300, 2300, 5300, 13500),
maxima = c(230, 530, 1300, 2300, 5300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_XYZ) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
Centro_SDF <- data.frame(
Ano = c(20, 50, 100, 200, 500, 1500),
Probabilidad = c("1%", "10%", "1%", "10%","1%", "10%"),
Area = c(20, 50, 100, 200, 500, 1500),
promedio = c(340, 4530, 4100, 4300, 4300, 43500),
maxima = c(4230, 4530, 4130, 4300, 4300, 13500),
Area2 = c(230, 530, 1300, 3200, 3500, 31500),
promedio2 = c(320, 350, 3100, 3200, 3500, 31500),
maxima2 = c(320, 350, 3100, 3200, 3500, 13500)
)
names(Centro_SDF) <- c(
"Año", "Probabilidad",
"Área Afectada (%)", "Promedio (m)", "Máxima (m)",
"Área Afectada  (%)", "Promedio  (m)", "Máxima  (m)"
)
base_nombres <- ls()
cliente <- "Cliente ABC"
fecha <- format(Sys.Date(), "%B %Y")
fecha <- paste0(toupper(substring(fecha, 1, 1)), substring(fecha, 2))
# Rutas
ruta_maps_flood <- "1. Mapas"
ruta_maps_flood <- file.path(ruta_maps_flood, cliente)
source(here("2. Excel", "1. eso.R"))
source(here("2. Excel", "1. eso.R"))
flood_location <- read_excel("2. Excel/Flood Input.xlsx")
print(here("2. Excel", "1. eso.R"))
rm(list = ls())
cat("\014")
library(readxl)
flood_location <- read_excel("2. Excel/Flood Input.xlsx")
View(flood_location)
source(here("2. Excel", "2. eso e.R"))
# rm(list = ls())
# cat("\014")
library(readxl)
library(here)
flood_location <- read_excel(here("2. Excel", "Flood Input.xlsx"))
source(here("2. Excel", "2. eso e.R"))
# Cargar librerías necesarias
library(readxl)    # si usas read_excel
library(dplyr)     # si haces transformaciones
library(knitr)     # para usar kable
library(here)      # puede fallar el source en los .Rmd <- here()
# Ejecutar el script que genera tus variables/tablas
source(here("2. Excel", "2. eso e.R"))
source(here("2. Excel", "1. eso.R"))
# Ejecutar el script que genera tus variables/tablas
source(here("2. Excel", "2. eso e.R"))
# Ejecutar el script que genera tus variables/tablas
source(here("2. Excel", "2. eso e.R"))
source(here("2. Excel", "1. eso.R"))
# Cargar librerías necesarias
library(readxl)    # si usas read_excel
library(dplyr)     # si haces transformaciones
library(here)      # puede fallar el source en los .Rmd <- here()
# Ejecutar el script que genera tus variables/tablas
source(here("2. Excel", "1. eso.R"))
source(here("2. Excel", "2. eso e.R"))
ruta_maps_flood
# Rutas
ruta_maps_flood <- "1. Mapas"
ruta_maps_flood <- file.path(ruta_maps_flood, cliente,"0. Ubicaciones")
ruta_maps_flood
imagenes
# Obtener imágenes en la carpeta del cliente
imagenes <- list.files(ruta_maps_flood, pattern = "(?i)\\.(png|jpg|jpeg)$", full.names = TRUE)
imagenes_rel
library(here)
imagenes <- list.files(ruta_maps_flood, pattern = "(?i)\\.(png|jpg|jpeg)$", full.names = TRUE)
imagenes_rel <- gsub(paste0(here(), "/"), "", normalizePath(imagenes))
print(imagenes)
print(imagenes_rel)
list.files(ruta_maps_flood)
source(here("2. Excel", "1. eso.R"))
source(here("2. Excel", "2. eso e.R"))
library(here)
# Crear carpeta temporal para imágenes sin espacios
dir.create("temp_maps", showWarnings = FALSE)
# Obtener imágenes desde ruta original
imagenes_origen <- list.files(here(ruta_maps_flood), pattern = "(?i)\\.(png|jpg|jpeg)$", full.names = TRUE)
imagenes_origen
# Copiar a carpeta limpia (sin espacios)
file.copy(imagenes_origen, to = "temp_maps", overwrite = TRUE)
# Listar imágenes copiadas
imagenes_limpias <- list.files("temp_maps", pattern = "(?i)\\.(png|jpg|jpeg)$")
# Insertar imágenes desde carpeta limpia
for (img in imagenes_limpias) {
cat("\\newpage\n")
cat(sprintf("\\begin{center}\n\\includegraphics[width=0.9\\textwidth]{temp_maps/%s}\n\\end{center}\n\n", img))
}
ruta_maps_flood
library(kableExtra)
flood_location %>%
kable(format = "latex", booktabs = TRUE, align = "c") %>%
kable_styling(
latex_options = c("striped", "scale_down", "hold_position"),
font_size = 11,
position = "center",
full_width = FALSE
) %>%
row_spec(0, background = "azuloscuro", color = "white")
# Obtener imágenes de la carpeta (asegúrate que la ruta no tenga espacios)
imagenes <- list.files(here::here(ruta_maps_flood), pattern = "\\.(png|jpg|jpeg)$", full.names = TRUE)
# Crear LaTeX para mostrar las imágenes lado a lado
latex_imagenes <- paste0(
"\\begin{center}",
paste(
sprintf("\\includegraphics[width=0.45\\textwidth]{%s}", imagenes),
collapse = "\\hspace{0.05\\textwidth}"
),
"\\end{center}"
)
cat(latex_imagenes)
ruta_maps_flood
list.files(ruta_maps_flood)
kableExtra::latex_escape()
unlink("3. Reporte/Reporte_cache", recursive = TRUE)
